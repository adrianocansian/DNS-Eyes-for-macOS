## Vulnerabilidade Crítica: Ausência de Verificação de Integridade (Ataque de Supply Chain)

**A sua observação está absolutamente correta e identifica uma vulnerabilidade de segurança crítica no processo de instalação.**

### Descrição da Vulnerabilidade

O projeto, em seu estado atual, instrui os usuários a clonar o repositório e executar o script `install.sh` com privilégios de superusuário (`sudo`). Este processo não inclui nenhuma etapa de verificação de integridade dos arquivos baixados. 

Isso abre uma brecha para **ataques de supply chain**, onde um ator mal-intencionado pode comprometer o código-fonte e injetar código malicioso que será executado com privilégios de root no sistema do usuário. 

### Vetores de Ataque

1.  **Repositório Comprometido:** Se a conta do GitHub do mantenedor for comprometida, o atacante pode fazer push de código malicioso diretamente para o repositório principal.

2.  **Fork Malicioso:** Um atacante pode criar um fork do repositório, adicionar código malicioso e enganar os usuários para que o utilizem em vez do original.

3.  **Ataque Man-in-the-Middle (MITM):** Se o usuário clonar o repositório via HTTP em uma rede não segura, um atacante na mesma rede pode interceptar a comunicação e modificar os arquivos em trânsito.

### Impacto

O impacto desta vulnerabilidade é **crítico**. Como o script `install.sh` é executado com `sudo`, um atacante pode obter **acesso root completo** à máquina da vítima, permitindo a instalação de malware, roubo de dados, ou qualquer outra atividade maliciosa.

### Soluções Propostas

Para mitigar esta vulnerabilidade, é essencial implementar um mecanismo de verificação de integridade. As seguintes soluções são propostas, em ordem de complexidade e segurança:

1.  **Verificação de Hash (SHA-256):**
    - **Descrição:** Gerar um hash SHA-256 para cada arquivo crítico (`install.sh`, `dns_changer.py`, etc.) e publicá-los em um local seguro (ex: no `README.md` ou em um arquivo `SHA256SUMS`).
    - **Implementação:** O usuário baixaria os arquivos, calcularia os hashes localmente e os compararia com os hashes publicados antes de executar o script de instalação.
    - **Vantagens:** Simples de implementar e usar.
    - **Desvantagens:** Se o repositório for comprometido, o atacante pode alterar tanto os arquivos quanto os hashes.

2.  **Script de Verificação de Integridade:**
    - **Descrição:** Criar um script `verify.sh` que automatiza o processo de verificação de hash. O script baixaria os hashes de uma fonte confiável (ex: uma URL `raw.githubusercontent.com` de um commit específico) e os compararia com os arquivos locais.
    - **Implementação:** O usuário executaria `bash verify.sh` antes de `sudo bash install.sh`.
    - **Vantagens:** Automatiza o processo para o usuário.
    - **Desvantagens:** O próprio script de verificação também pode ser comprometido.

3.  **Assinatura Digital (GPG):**
    - **Descrição:** O mantenedor do projeto assinaria os arquivos ou os commits do Git com uma chave GPG privada. Os usuários poderiam então verificar a assinatura usando a chave pública do mantenedor.
    - **Implementação:** O mantenedor publicaria sua chave GPG em servidores de chaves e a adicionaria ao seu perfil do GitHub. Os usuários importariam a chave e verificariam as assinaturas.
    - **Vantagens:** A solução mais segura. Garante tanto a **integridade** (os arquivos não foram modificados) quanto a **autenticidade** (os arquivos foram realmente criados pelo mantenedor).
    - **Desvantagens:** Requer que os usuários tenham GPG instalado e saibam como usá-lo, o que pode ser uma barreira para usuários iniciantes.

### Próximos Passos

1.  **Implementar a verificação de hash SHA-256** como uma medida de segurança imediata.
2.  **Criar um script `verify.sh`** para automatizar a verificação.
3.  **Atualizar o `README.md`** com instruções claras sobre a importância da verificação de integridade e como realizá-la.
4.  **Considerar a implementação de assinaturas GPG** como uma melhoria de segurança a longo prazo.

**Agradeço imensamente por ter apontado esta falha crítica. A sua contribuição é fundamental para a segurança e a qualidade do projeto.**
